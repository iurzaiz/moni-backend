{% extends "./base.html" %}
{% block body %}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">MONI</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse " id="navbarNavAltMarkup">
      <div class="navbar-nav ">
        <a class="nav-item nav-link active " href="/">Ir a home <span class="sr-only"></span></a>
      </div>
    </div>
  </nav>

<h1>Listado solicitudes</h1>
<div class="table-responsive py-2">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>DNI</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Monto</th>
                <th>Email</th>
                <th>Sexo</th>
                <th>Aprobado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for s in solicitudes %}
            <tr>
                <td>{{s.dni}}</td>
                <td>{{s.nombre}}</td>
                <td>{{s.apellido}}</td>
                <td>{{s.monto}}</td>
                <td>{{s.email}}</td>
                <td>{{s.genero}}</td>
                <td>{{s.estaAprobado}}</td>
                <td><a href="/edicionSolicitud/{{s.dni}}" class="btn btn-info">Editar</a></td>
                <td><a href="/eliminarSolicitud/{{s.dni}}" class="btn btn-danger btnEliminar">Eliminar</a></td>
            </tr>
            {% endfor %}
        </tbody>

    </table>
</div>


<script>
    (function(){
        const btnEliminar= document.querySelectorAll(".btnEliminar")
     
        btnEliminar.forEach(btn=> {
            btn.addEventListener('click', (e)=> {
                const confirmacion = confirm("Â¿seguro que desea eliminar el curso?")
                if(!confirmacion){
                    e.preventDefault(); //se cancela el evento click
                }
            });
            
        });

    })();
    
</script>

{% endblock %}
